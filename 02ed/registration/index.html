<!DOCTYPE html>
<html>
  <head>
    <title>Inscrição - Cursos de Curta Duração do BioME</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link href="http://fonts.googleapis.com/css?family=Lato:300,400,400italic,600,700|Raleway:300,400,500,600,700|Crete+Round:400italic" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="css/bootstrap.css" type="text/css" />
    <link rel="stylesheet" href="css/mine/style.css" type="text/css" />
    <link rel="stylesheet" href="css/mine/fix.css" type="text/css" />
    <link rel="stylesheet" href="css/swiper.css" type="text/css" />
    <link rel="stylesheet" href="css/dark.css" type="text/css" />
    <link rel="stylesheet" href="css/font-icons.css" type="text/css" />
    <link rel="stylesheet" href="css/animate.css" type="text/css" />
    <link rel="stylesheet" href="css/magnific-popup.css" type="text/css" />
    <link rel="stylesheet" href="css/responsive.css" type="text/css" />
    <link rel="shortcut icon" type="image/png" href="images/logos/logocursos.png"/>
  </head>

  <body>

    <div class="container">
        <img src="images/landing/back4.png" class="logo" >
    </div>

    <div class="container" id="login-container">
        <div class="row">

                <!-- Nav tabs -->
                <ul class="nav nav-tabs form-signin no-padding nav-justified" role="tablist" style="padding-bottom:0px;">
                    <li role="presentation" class="active"><a href="#register" aria-controls="home" role="tab" data-toggle="tab"><h4>Cadastro</h4></a></li>
                    <li role="presentation"><a href="#signin" aria-controls="signin" role="tab" data-toggle="tab"><h4>Login</h4></a></li>
                    <li role="presentation"><a href="#reset" aria-controls="reset" role="tab" data-toggle="tab"><h4>Alterar Senha</h4></a></li>
                </ul>

                <!-- Tab panes -->
                <div class="tab-content form-signin">

                <!--Aba de cadastro-->
                    <div role="tabpanel" class="tab-pane active" id="register">
                        <form id="registerForm" class="form-signin" name="register">
                            <label for="inputEmail" class="sr-only">Email</label>
                            <input type="email" id="inputEmailRegister" name="inputEmailRegister" class="form-control" placeholder="Email" required autofocus="">
                            <label for="inputPassword" class="sr-only">Senha</label>
                            <input type="password" id="inputPasswordRegister" name="inputPasswordRegister" class="form-control" placeholder="Senha" required>
                            <small id="passwordHelp" class="form-text text-muted">A senha deve ter no mínimo 6 caracteres</small>
		                    <label for="confirmPassword" class="sr-only">Confirmar Senha</label>
                            <input type="password" id="confirmPassword" class="form-control" placeholder="Confirmar Senha" required>
                            <button id="registerBtn" class="btn btn-lg btn-primary btn-block" type="submit">Cadastrar</button>
                        </form>
                    </div>
                    <!--Aba de cadastro Fim-->

                    <!--Aba de login Fim-->
                    <div role="tabpanel" class="tab-pane" id="signin">
                        <form id="signInForm" class="form-signin" name="signin">
                            <label for="inputEmail" class="sr-only">Email</label>
                            <input type="email" id="inputEmailSignIn" name="inputEmailSignIn" class="form-control" placeholder="Email" required autofocus>
                            <label for="inputPassword" class="sr-only">Senha</label>
                            <input type="password" id="inputPasswordSignIn" name="inputPasswordSignIn" class="form-control" placeholder="Senha" required>
                            <button id="signinBtn" class="btn btn-lg btn-primary btn-block" type="submit">Login</button>
                        </form>
                    </div>
                    <!--Aba de login Fim-->

                    <!--Aba de reset Fim-->
                    <div role="tabpanel" class="tab-pane" id="reset">
                        <form id="signInForm" class="form-signin" name="reset">
                            <label for="inputEmail" class="sr-only">Email</label>
                            <input type="email" id="inputEmailReset" name="inputEmailReset" class="form-control" placeholder="Email" required autofocus>
                            <button id="resetBtn" class="btn btn-lg btn-primary btn-block" type="submit">Solicitar Alteração</button>
                        </form>
                    </div>
                    <!--Aba de reset Fim-->
                </div>
        </div>
    </div>

    <!--                -->
    <!-- info-container -->
    <!--                -->
    <div class="container" id="info-container">

        <div class="row">
            <div class="no-padding col-md-10 col-md-offset-1 col-xs-10 col-xs-offset-1 col-sm-10 col-sm-offset-1 col-lg-8 col-lg-offset-2">
                <!-- Nav tabs -->
                <ul id="signed-tab" class="nav nav-tabs nav-justified" role="tablist" style="padding-bottom:0px; margin: 0 auto 0 0;">
                    <li role="presentation" class="active"><a href="#data" aria-controls="data" role="tab" data-toggle="tab"><h4>Dados</h4></a></li>
                    <li role="presentation"><a href="#payment" aria-controls="payment" role="tab" data-toggle="tab"><h4>Pagamento</h4></a></li>
                    <li role="presentation" id="logOutTab"><a href="#" aria-controls="logout" role="tab" data-toggle="tab"><h4>Sair</h4></a></li>
                </ul>
            </div>
        </div>

        <div class="row info-row">
            <div class="col-md-10 col-md-offset-1 col-xs-10 col-xs-offset-1 col-sm-10 col-sm-offset-1 col-lg-8 col-lg-offset-2">
                <div class="alert alert-warning" role="alert"><strong>Atenção:</strong> Pagamento Pendente</div>
                <div id="payment-success" class="alert alert-success" role="alert">Pagamento confirmado!</div>
                <div class="alert alert-danger" role="alert"><strong>Atenção:</strong> Inscrição cancelada por falta de pagamento!</div>
                <div id="update-success" class="alert alert-success" role="alert">
                <center><b>Informação atualizada com sucesso!</b></center>
                <br><br>
                <b>LEIA AS INFORMAÇÕES ABAIXO!</b>
                <br><br>
                * Para obtenção do desconto de 20%, o participante deve entrar em contato e informar o código de desconto através do e-mail biome@imd.ufrn.br. Neste caso, a inscrição somente poderá ser paga através de transferência bancária para a conta corrente do Instituto de Bioinformática e Biotecnologia, cujos dados bancários serão enviados ao portador do voucher.
                <br><br>
                ** Participantes que receberam um voucher de 20% podem utilizá-lo para obter o desconto na inscrição de somente um dos cursos da 2a. edição dos Cursos de Curta Duração. 
                <br><br>
                *** Inscrições realizadas com desconto não serão contabilizadas para emissão de um novo voucher, que está condicionada ao pagamento integral do valor da inscrição de 2 ou 3 cursos da 2a. edição dos Cursos de Curta Duração. </div>
            </div>
        </div>

        <div class="row content-row info-row">

            <div class="content-col col-md-10 col-md-offset-1 col-xs-10 col-xs-offset-1 col-sm-10 col-sm-offset-1 col-lg-8 col-lg-offset-2">

                <!-- Tab content -->
                <div class="tab-content">

                    <!-- tab pane 2 -->
                    <div role="tabpanel" class="tab-pane active" id="data">
                        <form id="data-form">

                            <div class="form-group">
                                <label for="inputName">Nome Completo</label>
                                <input type="text" class="form-control" id="inputName" placeholder="Informe seu nome">
                            </div>

                            <div class="col-md-7 form-group">
                                <label for="inputPhone">Telefone</label>
                                <input type="text" class="form-control" id="inputPhone" placeholder="Informe seu número para contato">
                            </div>
                            <div class="col-md-5 form-group">
                                <label for="inputCPF">CPF</label>
                                <input type="text" class="form-control" id="inputCPF" placeholder="Informe seu CPF">
                            </div>

                            <div class="col-md-8 form-group">
                                <label for="inputCity">Cidade</label>
                                <input type="text" class="form-control" id="inputCity" placeholder="Informe a sua cidade">
                            </div>
                            <div class="col-md-4 form-group">
                                <label for="inputUF">UF</label>
                                <select class="form-control" id="inputUF" placeholder="UF">
                                    <option selected disabled>Selecione o seu estado</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label for="inputEnrollment">Categoria</label>
                                <select class="form-control" id="inputEnrollment" placeholder="Categoria de inscrição">
                                    <option selected disabled>Selecione sua categoria</option>
                                </select>
                            </div>

                             <div class="form-group non-professional">
                                <label for="inputInstitution">Instituição</label>
                                <input type="text" class="form-control" id="inputInstitution" placeholder="Informe sua instituição de ensino">
                            </div>
                            <div class="col-md-6 form-group non-professional">
                                <label for="inputCourse">Curso</label>
                                <input type="text" class="form-control" id="inputCourse" placeholder="Informe seu curso">
                            </div>
                            <div class="col-md-6 form-group non-professional">
                                <label for="inputDepartment">Departamento</label>
                                <input type="text" class="form-control" id="inputDepartment" placeholder="Informe seu departamento">
                            </div>

                            <div class="col-md-6 form-group professional">
                                <label for="inputCompany">Empresa</label>
                                <input type="text" class="form-control" id="inputCompany" placeholder="Informe o nome da sua empresa">
                            </div>
                            <div class="col-md-6 form-group professional">
                                <label for="inputOffice">Cargo</label>
                                <input type="text" class="form-control" id="inputOffice" placeholder="Informe seu cargo na empresa">
                            </div>

                            <label>POR FAVOR, CONFIRME SUA INSCRIÇÃO NO(S) CURSO(S) </label>
                            <div class="form-check">
                                <label class="form-check-label">
                                <input id="inputBIOINFO" type="checkbox" class="form-check-input">
                                Introdução à bioinformática
                                </label>
                            </div>
                            <div class="form-check">
                                <label class="form-check-label">
                                <input id="inputNGS" type="checkbox" class="form-check-input">
                                Introdução à Análise de Dados de Sequenciadores de Segunda Geração
                                </label>
                            </div>
                            <div class="form-check">
                                <label class="form-check-label">
                                <input id="inputR" type="checkbox" class="form-check-input">
                                Introdução ao R para bioinformática
                                </label>
                            </div>

                            <!--
                            <br><br>
                            <label>POR FAVOR, LEIAS OS TERMOS ABAIXO ANTES DE CONFIRMAR SUA INSCRIÇÃO </label>
                            <div class="form-check">
                                <p>
                                Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
                                tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
                                quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
                                consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse
                                cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non
                                proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
                                </p>
                                <label class="form-check-label">
                                    <input id="inputBIOINFO" type="checkbox" class="form-check-input">
                                    Eu li e aceito os termos a cima citados.
                                </label>
                            </div>
                            -->

                            <fieldset class="form-group">
                                <legend></legend>
                                <button type="submit" class="btn btn-primary pull-right">Submit</button>
                            </fieldset>
                        </form>

                        <center><br><br>
                            <div style="width: 82%; border-style: dotted; padding: 15px;">
                                <label>Inscreva-se também nos demais cursos de curta duração oferecidos pelo BioME</label><br><br>
                                <a style="color: #333;" href="http://bioinfo.imd.ufrn.br/cursosdcd/2018-1/bioinfo/index.html"> Introdução à bioinformática </a><br><br>
                                <a style="color: #333;" href="http://bioinfo.imd.ufrn.br/cursosdcd/2018-1/ngs/index.html"> Introdução à Análise de Dados de Sequenciadores de Segunda Geração </a><br><br>
                                <a style="color: #333;" href="http://bioinfo.imd.ufrn.br/cursosdcd/2018-1/r/index.html"> Introdução ao R para bioinformática </a><br><br>
                                <p style="color: #FF6347; font-size: 17px;" >
                                    Inscritos em 2 ou 3 cursos de curta duração receberão um <br>
                                    <b>voucher de 20%</b> de desconto para ser usado em eventos futuros do BioME.
                                </p>
                            </div>
                        </center>
                    </div>

                    <!-- tab pane 4 -->
                    <div role="tabpanel" class="tab-pane" id="payment">
                     <center><br><br>
                                <div style="width: 90%; border-style: dotted; padding: 15px; text-align: justify;">
                                        <p>
                                        Clique na imagem a seguir para ser redirecionado para a página de pagamento do PagSeguro. <br>
                                        Sua inscrição somente será efetivada após conferência do pagamento e será confirmada via e-mail. <br>
                                        O status do pagamento será atualizado assim que for notificado. <br>
                                        <b>Nota:</b> Mesmo após realização do pagamento, seu status será atualizado em até <b>2 dias úteis</b>.
                                        </p>
                                        <!--<h4>
                                        <b>Se você se tentou se inscrever para o 1º Curso teórico-prático em Introdução à Análise de Dados de Sequenciadores de Segunda Geração ou para o Curso Teórico-Prático de Filogenia Molecular e Análise Evolucionária de Sequências, as inscrições estão encerradas. Mas Caso deseje participar da lista de espera, enviar email para biome@imd.ufrn.br e você será notificado de sua posição por email.</b>
                                        </h4>-->
                                </div><br><br>
                               </center>
                       <!--
                        <form id="psForm" action="https://pagseguro.uol.com.br/checkout/v2/payment.html" method="post">
                            <p id="description"></p>
                            <span>Taxa de inscrição: R$</span>
                            <span id="fee"></span>
                            <br/>
                            <input type="hidden" name="code" id="productId" value="" />
                            <input type="hidden" name="iot" value="button" />
                            <input type="image" src="https://stc.pagseguro.uol.com.br/public/img/botoes/pagamentos/209x48-comprar-preto-assina.gif" name="submit" alt="Pague com PagSeguro - é rápido, grátis e seguro!" />
                        </form>
                        -->
                        <form id="psForm" target="pagseguro" method="post" action="https://pagseguro.uol.com.br/checkout/checkout.jhtml">
                          <input type="hidden" name="email_cobranca" value="pagseguro@i2bio.org">
                          <input type="hidden" name="tipo" value="CP">
                          <input type="hidden" name="moeda" value="BRL">

                          <div id="cart">
                          <!--
                              <input type="hidden" name="item_id_1" value="12345">
                              <input type="hidden" name="item_descr_1" value="Descrição do item a ser vendido">
                              <input type="hidden" name="item_quant_1" value="1">
                              <input type="hidden" name="item_valor_1" value="100">
                          -->
                          </div>

                          <input type="image" src="https://p.simg.uol.com.br/out/pagseguro/i/botoes/pagamentos/99x61-pagar-assina.gif" name="submit" alt="Pague com PagSeguro - é rápido, grátis e seguro!">
                        </form>

                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="container">
        <a href="http://bioinfo.imd.ufrn.br">
        <p style="margin-top:50px; text-align: center; color: #FF6347;">Voltar para a página inicial</p>
        </a>
    </div>

<script src="https://www.gstatic.com/firebasejs/3.8.0/firebase.js"></script>
<script>
  // Initialize Firebase
  var config = {
    apiKey: "AIzaSyD3hXG7BV9kuJRPkmd5cEYJOLSyRsVi_Tw",
    authDomain: "cdcd2018-1.firebaseapp.com",
    databaseURL: "https://cdcd2018-1.firebaseio.com",
    projectId: "cdcd2018-1",
    storageBucket: "cdcd2018-1.appspot.com",
    messagingSenderId: "766384774045"
  };
  firebase.initializeApp(config);
</script>


    <script src="https://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    <script>
    $(document).ready(function() {
        // $('#login-container form').submit(function(e){
        $('form:not(#psForm)').submit(function(e){
            e.preventDefault();
        });

        $('#data-form').submit(function(){
            var name = $(this).find('#inputName').val();
            var phone = $(this).find('#inputPhone').val();
            var cpf = $(this).find('#inputCPF').val();
            var city = $(this).find('#inputCity').val();
            var course = $(this).find('#inputCourse').val();
            var institution = $(this).find('#inputInstitution').val();
            var department = $(this).find('#inputDepartment').val();
            var company = $(this).find('#inputCompany').val();
            var office = $(this).find('#inputOffice').val();

            var statte = $(this).find('#inputState').val();
            var uf = $(this).find('#inputUF').val();
            var enrollment = $(this).find('#inputEnrollment').val();
            var bioinfo = $(this).find('#inputBIOINFO').prop('checked');
            var ngs = $(this).find('#inputNGS').prop('checked');
            var r = $(this).find('#inputR').prop('checked');

            setUserData({
                name: name,
                phone: phone,
                cpf: cpf,
                city: city,
                course: course,
                institution: institution,
                department: department,
                company: company,
                office: office,
                uf: uf,
                enrollment: enrollment,
                bioinfo: bioinfo,
                ngs: ngs,
                r: r
            });
        });

        $('#registerBtn').click(function(){
            var email = $('#inputEmailRegister').val();
            var password = $('#inputPasswordRegister').val();
            var confirmPassword = $('#confirmPassword').val();
            if(password == confirmPassword){
                firebase.auth().createUserWithEmailAndPassword(email, password).catch(function(error) {
                    console.log(error.message);
    		        alert(error.message);
                });
            } else {
                alert("Senhas não conferem");
            }
        });

        $('#signinBtn').click(function(){
            var email = $('#inputEmailSignIn').val();
            var password = $('#inputPasswordSignIn').val();
            firebase.auth().signInWithEmailAndPassword(email, password).catch(function(error) {
            console.log(error.message);
            alert(error.message);
                });
        });

        $('#resetBtn').click(function(){
            var email = $('#inputEmailReset').val();
            firebase.auth().sendPasswordResetEmail(email).then(function() {
                alert("E-mail de redefinição de senha enviado.");
            }, function(error) {
                alert(error);
            });
        });

        $('#logOutBtn').click(function(){
            firebase.auth().signOut();
        });

        $('#logOutTab').click(function(){
            if (confirm("Você está prestes a sair."))
                firebase.auth().signOut();
        });

        firebase.auth().onAuthStateChanged(function(user) {
            if (user) {
                signIn(user);

                firebase.database().ref('users/' + user.uid + '/profile').on('value', function(snapshot) {
                    if(snapshot.val() !== null)
                        updateProfileFields(snapshot.val());
                });

                firebase.database().ref('users/' + user.uid + '/paid').on('value', function(snapshot) {
                    updatePaymentAlert(snapshot.val());
                });

            } else {
                signOut();
            }
        });

        function signIn(user){
            $('#login-container').hide();
            $('#info-container').show();
        }

        function signOut(){
            $('#info-container').hide();
            $('#login-container').show();
            $('#login-container form').trigger('reset');
        }

        function setUserData(data) {
            var user = firebase.auth().currentUser;

            if (user != null) {
                firebase.database().ref('users/' + user.uid + '/profile').set(data)
                .then(function() {
                    successAlert();
                })
                .catch(function(error) {
                    console.log(error);
                    errorAlert();
                });
            }
        }

        function updateProfileFields(snapshot){
            //user profile
            $('#data-form #inputName').val(snapshot.name);
            $('#data-form #inputPhone').val(snapshot.phone);
            $('#data-form #inputCPF').val(snapshot.cpf);
            $('#data-form #inputCity').val(snapshot.city);
            $('#data-form #inputCourse').val(snapshot.course);
            $('#data-form #inputInstitution').val(snapshot.institution);
            $('#data-form #inputDepartment').val(snapshot.department);
            $('#data-form #inputCompany').val(snapshot.company);

            $('#data-form #inputBIOINFO').prop('checked', snapshot.bioinfo);
            $('#data-form #inputNGS').prop('checked', snapshot.ngs);
            $('#data-form #inputR').prop('checked', snapshot.r);

            $('#data-form #inputState option[value="' + snapshot.state + '"]').prop('selected', true);
            $('#data-form #inputUF option[value="' + snapshot.uf + '"]').prop('selected', true);

            $('#data-form #inputEnrollment option[value="' + snapshot.enrollment + '"]').prop('selected', true);
            $('#data-form #inputUF option[value="' + snapshot.uf + '"]').prop('selected', true);

            firebase.database().ref('info/enrollment/' + snapshot.enrollment).once('value').then(function(enrollmentSnapshot) {
                if(enrollmentSnapshot.val().professional){
                    $('.non-professional').hide();
                    $('.professional').show();
                } else{
                    $('.non-professional').show();
                    $('.professional').hide();
                }
                $('#psForm #description').text(enrollmentSnapshot.val().title);
            });

            $('#cart').html('');

             var itemCount = 1;
            if(snapshot.bioinfo){
                firebase.database().ref('info/enrollment_course/bioinfo/' + snapshot.enrollment).once('value').then(function(enrollmentCourseSnapshot) {
                    $('#psForm #fee').text(enrollmentCourseSnapshot.val().price);
                    //$('#psForm #productId').val(enrollmentCourseSnapshot.val().productID);
                    $('#cart').append(
                        '<input type="hidden" name="item_id_'+itemCount+'" value="1">' +
                        '<input type="hidden" name="item_descr_'+itemCount+'" value="2Bio: Introdução à bioinformática">' +
                        '<input type="hidden" name="item_quant_'+itemCount+'" value="1">' +
                        '<input type="hidden" name="item_valor_'+itemCount+'" value="'+enrollmentCourseSnapshot.val().price+'">'
                    );
                    itemCount++;
                });
            }if(snapshot.ngs){
                firebase.database().ref('info/enrollment_course/ngs/' + snapshot.enrollment).once('value').then(function(enrollmentCourseSnapshot) {
                    $('#psForm #fee').text(enrollmentCourseSnapshot.val().price);
                    //$('#psForm #productId').val(enrollmentCourseSnapshot.val().productID);
                     $('#cart').append(
                        '<input type="hidden" name="item_id_'+itemCount+'" value="2">' +
                        '<input type="hidden" name="item_descr_'+itemCount+'" value="2Bio: Introdução à Análise de Dados de Sequenciadores de Segunda Geração">' +
                        '<input type="hidden" name="item_quant_'+itemCount+'" value="1">' +
                        '<input type="hidden" name="item_valor_'+itemCount+'" value="'+enrollmentCourseSnapshot.val().price+'">'
                    );
                    itemCount++;
                });
            }if(snapshot.r){
                firebase.database().ref('info/enrollment_course/r/' + snapshot.enrollment).once('value').then(function(enrollmentCourseSnapshot) {
                    $('#psForm #fee').text(enrollmentCourseSnapshot.val().price);
                    //$('#psForm #productId').val(enrollmentCourseSnapshot.val().productID);
                     $('#cart').append(
                        '<input type="hidden" name="item_id_'+itemCount+'" value="3">' +
                        '<input type="hidden" name="item_descr_'+itemCount+'" value="2Bio: Introdução ao R para bioinformática">' +
                        '<input type="hidden" name="item_quant_'+itemCount+'" value="1">' +
                        '<input type="hidden" name="item_valor_'+itemCount+'" value="'+enrollmentCourseSnapshot.val().price+'">'
                    );
                    itemCount++;
                });
            }

        }

        function updatePaymentAlert(snapshot){
            // payment alert
            if(snapshot == 0){
                $("#payment-success").hide();
                $(".alert-danger").hide("fast");
                $(".alert-warning").slideDown("fast");
            } if(snapshot == 1) {
                $(".alert-warning").hide();
                $(".alert-danger").hide("fast");
                $("#payment-success").slideDown("fast");
            } if(snapshot == 2){
                $(".alert-warning").hide();
                $("#payment-success").hide("fast");
                $(".alert-danger").slideDown("fast");
            }
        }

        function successAlert() {
            $("#update-success").slideDown("fast");

            setTimeout(function() {
                $("#update-success").slideUp(500, function() {
                    $(this).hide();
                });
            }, 5000000000);
        }

        function errorAlert() {
            $(".alert-danger").slideDown("fast");

            setTimeout(function() {
                $(".alert-danger").slideUp(500, function() {
                    $(this).hide();
                });
            }, 2500);
        }

        firebase.database().ref("info").on("value", function(data){
            var info = data.val();

            $('#db-info').html(info.txt);

            // $.each(info.state, function(index, value) {
            //     $('#inputState').append($("<option />").val(index).text(value.title));
            // });

            $.each(info.uf, function(index, value) {
                $('#inputUF').append($("<option />").val(index).text(value.title));
            });

            $.each(info.enrollment, function(index, value) {
                $('#inputEnrollment').append($("<option />").data('professional',value.professional).val(index).text(value.title));
            });

            $('#inputEnrollment').change(function(){
                var isProfessional = $(this).find(':selected').data('professional');
                if(isProfessional){
                    console.log('is prof');
                    $('.non-professional').hide();
                    $('.professional').show();
                } else {
                    $('.non-professional').show();
                    $('.professional').hide();
                }
            });

            // Poster Countdown
            countdown(info.posterDeadline, "#poster-countdown", function(){
                $("#inputPoster").attr("disabled", true);
                $('#abstract-form').hide();
                $('#abstract-view').show();
                $('#abstract fieldset').hide();
                // $("#abstractTab").addClass("disabled").click(function (e) {
                //     e.preventDefault();
                //     return false;
                // });
            });

            // Oral Countdown
            countdown(info.oralDeadline, "#oral-countdown", function(){
                $("#inputOral").attr("disabled", true);
            });

        }, function(err){
            alert(err);
        });

        //COUNTDOWN
        function countdown(deadline, selector, expire){
            var interval = setInterval(function() {

                var now = new Date().getTime();

                var distance = new Date(deadline).getTime() - now;

                var days = Math.floor(distance / (1000 * 60 * 60 * 24));
                var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                var seconds = Math.floor((distance % (1000 * 60)) / 1000);

                $(selector).text(days+"d "+hours+"h "+minutes+"m "+seconds+"s");

                if (distance < 0) {
                    clearInterval(interval);
                    $(selector).text("EXPIRED");
                    expire();
                }
            }, 1000);
        }
    });

    </script>
  </body>
</html>